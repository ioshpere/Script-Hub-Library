local UIS = game:GetService("UserInputService")

local Library = {}

function Library:CreateWindow(Name)

	local ScreenGui = Instance.new("ScreenGui")
	local Background = Instance.new("Frame")
	local UICorner = Instance.new("UICorner")
	local ScriptHubTab = Instance.new("ScrollingFrame")
	local UIListLayout = Instance.new("UIListLayout")
	local Title = Instance.new("TextLabel")
	local UICorner_2 = Instance.new("UICorner")

	ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
	ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

	Background.Name = "Background"
	Background.Parent = ScreenGui
	Background.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	Background.Position = UDim2.new(0.0497109815, 0, 0.472868174, 0)
	Background.Size = UDim2.new(0.306936413, 0, 0.436950922, 0)

	UICorner.CornerRadius = UDim.new(0, 15)
	UICorner.Parent = Background

	ScriptHubTab.Name = "ScriptHubTab"
	ScriptHubTab.Parent = Background
	ScriptHubTab.Active = true
	ScriptHubTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	ScriptHubTab.BorderColor3 = Color3.fromRGB(0, 0, 0)
	ScriptHubTab.Position = UDim2.new(0.0564971752, 0, 0.121802218, 0)
	ScriptHubTab.Size = UDim2.new(0.858757079, 0, 0.769563854, 0)
	ScriptHubTab.CanvasSize = UDim2.new(0, 0, 20, 0)

	UIListLayout.Parent = ScriptHubTab
	UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
	UIListLayout.Padding = UDim.new(0, 5)

	Title.Name = "Title"
	Title.Parent = Background
	Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	Title.BackgroundTransparency = 1.000
	Title.Position = UDim2.new(0, 0, -0.00280857366, 0)
	Title.Size = UDim2.new(1.00000012, 0, 0.124610737, 0)
	Title.Font = Enum.Font.Nunito
	Title.Text = Name
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.TextScaled = true
	Title.TextSize = 14.000
	Title.TextWrapped = true

	UICorner_2.CornerRadius = UDim.new(0, 15)
	UICorner_2.Parent = Title

	local function THWDVII_fake_script() -- Background.Dragify 
		local script = Instance.new('LocalScript', Background)

		local UserInputService = game:GetService("UserInputService")

		local gui = script.Parent

		local dragging
		local dragInput
		local dragStart
		local startPos

		local function update(input)
			local delta = input.Position - dragStart
			gui.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		end

		gui.InputBegan:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
				dragging = true
				dragStart = input.Position
				startPos = gui.Position

				input.Changed:Connect(function()
					if input.UserInputState == Enum.UserInputState.End then
						dragging = false
					end
				end)
			end
		end)

		gui.InputChanged:Connect(function(input)
			if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
				dragInput = input
			end
		end)

		UserInputService.InputChanged:Connect(function(input)
			if input == dragInput and dragging then
				update(input)
			end
		end)
	end
	coroutine.wrap(THWDVII_fake_script)()


	UIS.InputBegan:Connect(function(input)
		if input.KeyCode == Enum.KeyCode.Delete then
			ScreenGui:Destroy()
		end
	end)

	local EpicLib = {}

	function EpicLib:CreateButton(Text, Call)

		local Button = Instance.new("TextButton")
		local UICorner_2 = Instance.new("UICorner")

		Button.Name = "Button"
		Button.Parent = ScriptHubTab
		Button.BackgroundColor3 = Color3.fromRGB(65, 65, 65)
		Button.Size = UDim2.new(0.965, 0, 0.006, 0)
		Button.Font = Enum.Font.Nunito
		Button.Text = Text
		Button.TextColor3 = Color3.fromRGB(255, 255, 255)
		Button.TextScaled = true
		Button.TextSize = 14.000
		Button.TextWrapped = true

		UICorner_2.CornerRadius = UDim.new(1, 0)
		UICorner_2.Parent = Button

		Button.MouseButton1Click:Connect(function()

			pcall(Call)

		end)
	end

	return EpicLib
end

return Library

